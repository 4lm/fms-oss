<div style="margin-top:15px">
	<span ng-if="notifications && notifications.length>0" class="label label-danger" style="font-size:12" ng-click="toggleDetails()">
		<i class="glyphicon glyphicon-envelope"></i>&nbsp;{{notifications.length}}
	</span>
	<span ng-if="!notifications || notifications.length==0" style="font-size:12" class="label label-default" ng-click="toggleDetails()"> 
		<i class="glyphicon glyphicon-envelope"></i>&nbsp;0
	</span>
	<div style="position:absolute; top:20px; left: -360px; width:400px; background-color: white; max-height:400px; overflow:auto" class="notification-box" ng-if="showDetails">
		<div ng-if="notifications.length==0">
			<i>No notifications for you!</i> {{notifications.length}}
		</div>
        <div align="right" ng-click="toggleDetails()">
            <a href="#/global/notifications">Show Overview</a>
        </div>
		<div ng-repeat="notification in notifications">
            <hr>
			<div>
				<div class="form-group">
					<strong><fms-link type="notification.rootObjectType" id="notification.rootObjectId">{{notification.name}}</strong>
					<small><i><br>
                        {{notification.from}} <fms-time ng-model="notification.date">{{date.since}}
						</fms-date>
					</i></small><br>
				</div>
				<div>
					{{notification.message}}
				</div>
				<div>
					<button class="btn btn-xs btn-danger pull-right" ng-click="markRead(notification.id)">mark as read</button><br>
				</div>
			</div>
		</div>
    </div>
</div>